(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["loginPhone"],{"2ea9":function(e,t,n){"use strict";n.d(t,"d",(function(){return r})),n.d(t,"f",(function(){return i})),n.d(t,"e",(function(){return s})),n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return c}));var a=n("72e7");function r(e){return Object(a["a"])({url:"/captcha/sent",params:{phone:e}})}function i(e,t){return Object(a["a"])({url:"/captcha/verify",params:{phone:e,captcha:t}})}function s(e){return Object(a["a"])({url:"/cellphone/existence/check",params:{phone:e}})}function o(e,t,n,r){return Object(a["a"])({url:"/register/cellphone",params:{captcha:e,phone:t,password:n,nikename:r}})}function u(e,t){return Object(a["a"])({url:"/login/cellphone",params:{phone:e,password:t}})}function c(e,t){return Object(a["a"])({url:"/login",params:{email:e,password:t}})}},4788:function(e,t,n){},"4ab8":function(e,t,n){},"87ca":function(e,t,n){"use strict";var a=n("4ab8"),r=n.n(a);r.a},a70b:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"login-phone"},[n("navbar",[n("div",{attrs:{slot:"left"},on:{click:e.back},slot:"left"},[n("span",{staticClass:"fa-arrow-left back"})]),n("div",{attrs:{slot:"center"},slot:"center"},[e._v("手机号验证")])]),n("div",{staticClass:"send-out"},[n("div",{staticClass:"info"},[n("p",[e._v("验证码已发送至")]),n("p",{staticClass:"num"},[n("span",{staticClass:"ico"},[e._v("+86")]),e._v(" "+e._s(e.$store.getters.encodeLoginAccount)+" ")])]),n("div",{staticClass:"timer"},[60!=e.timer?n("p",{staticClass:"time"},[e._v(e._s(e.timer)+" s")]):n("p",{staticClass:"regain",on:{click:e.Regain}},[e._v("重新获取")])])]),n("v-code",{attrs:{count:4},on:{inputComplete:e.getTestVerifyCode}}),n("div",{directives:[{name:"show",rawName:"v-show",value:e.pawdShow,expression:"pawdShow"}],staticClass:"pawd-box"},[n("navbar",[n("div",{attrs:{slot:"left"},on:{click:function(t){e.pawdShow=!1}},slot:"left"},[n("span",{staticClass:"fa-arrow-left back"})]),n("div",{attrs:{slot:"center"},slot:"center"},[e._v("手机号登录")])]),n("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.pawd,expression:"pawd",modifiers:{trim:!0}}],staticClass:"pawd-input",attrs:{type:"password",placeholder:"输入登录密码，不少于6位"},domProps:{value:e.pawd},on:{input:function(t){t.target.composing||(e.pawd=t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),n("div",{staticClass:"next",on:{click:e.login}},[e._v("登录")])],1)],1)},r=[],i=(n("d3b7"),n("96cf"),n("d4ec")),s=n("bee2"),o=n("99de"),u=n("7e84"),c=n("262e"),l=n("9ab4"),d=n("1f8a"),p=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"verify-code"},[n("div",{ref:"verifiCodeInput",staticClass:"verify-code-input"},e._l(e.count,(function(t){return n("input",{directives:[{name:"model",rawName:"v-model",value:e.valueList[t],expression:"valueList[item]"}],key:t,staticClass:"input-item",style:[e.styleObj],attrs:{type:"text","data-index":t,maxlength:"1"},domProps:{value:e.valueList[t]},on:{keypress:e.rule,input:[function(n){n.target.composing||e.$set(e.valueList,t,n.target.value)},e.rule2],keydown:e.backSpace,keyup:e.nextFocus}})})),0)])},f=[],v=(n("a4d3"),n("e01a"),n("d28b"),n("c975"),n("a9e3"),n("3ca3"),n("ddb0"),{props:{count:{type:Number,required:!0},mode:{type:String,default:"number",validator:function(e){return-1!==["letter","number","letter-number"].indexOf(e)}}},data:function(){return{InputBoxWidth:0,valueList:[-1]}},methods:{rule:function(e){if("number"===this.mode){var t=e.keyCode;e.returnValue=t>=48&&t<=57}},rule2:function(e){switch(/[\u4e00-\u9fa5]/.test(e.target.value)&&(e.target.value="",e.returnValue=!1),this.mode){case"number":/[a-zA-Z]/.test(e.target.value)&&(e.target.value="",e.returnValue=!1);break;case"letter":/[0-9]/.test(e.target.value)&&(this.$set(this.valueList,e.target.getAttribute("data-index"),""),e.returnValue=!1);break;case"letter-number":break}},backSpace:function(e){var t=e.target.value;8!==e.keyCode||void 0!==t&&""!==t&&null!==t||e.target.previousElementSibling&&e.target.previousElementSibling.focus()},nextFocus:function(e){var t=e.target.value;8==e.keyCode||void 0==t&&""==t&&null==t||e.target.nextElementSibling&&e.target.nextElementSibling.focus()}},mounted:function(){this.InputBoxWidth=this.$refs.verifiCodeInput.offsetWidth},computed:{styleObj:function(){if(0!=this.InputBoxWidth){var e=this.InputBoxWidth/(2*this.count);return{width:e+"px"}}}},watch:{valueList:function(e){var t=[];if(e.length===this.count+1){var n=!0,a=!1,r=void 0;try{for(var i,s=e[Symbol.iterator]();!(n=(i=s.next()).done);n=!0){var o=i.value;if(void 0==o||null==o||""==o)return!1;t.push(o)}}catch(l){a=!0,r=l}finally{try{n||null==s.return||s.return()}finally{if(a)throw r}}if(t.length===this.count+1){for(var u="",c=1;c<t.length;c++)u+=t[c];this.$emit("inputComplete",u)}}}}}),h=v,m=(n("b4a3"),n("2877")),b=Object(m["a"])(h,p,f,!1,null,"6498bf34",null),g=b.exports,w=n("2ea9"),y=n("60a3"),k=function(e){function t(){var e;return Object(i["a"])(this,t),e=Object(o["a"])(this,Object(u["a"])(t).apply(this,arguments)),e.timer=59,e.verifycodeVal="",e.pawd="",e.pawdShow=!1,e}return Object(c["a"])(t,e),Object(s["a"])(t,[{key:"created",value:function(){this.startTimer(),this.getSendVerifyCode()}},{key:"beforeDestory",value:function(){window.clearInterval(this.flagTimer),this.$bus.$emit("verifycodeVal",this.verifycodeVal)}},{key:"getSendVerifyCode",value:function(){var e;return regeneratorRuntime.async((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,regeneratorRuntime.awrap(Object(w["d"])(this.$store.state.loginAccount));case 2:e=t.sent,200===e.code&&this.$toast("已发送验证码");case 4:case"end":return t.stop()}}),null,this)}},{key:"getTestVerifyCode",value:function(e){var t;return regeneratorRuntime.async((function(n){while(1)switch(n.prev=n.next){case 0:return this.verifycodeVal=e,n.next=3,regeneratorRuntime.awrap(Object(w["f"])(this.$store.state.loginAccount,e));case 3:t=n.sent,200===t.code?this.getTestIsRegister():this.$toast(t.message);case 5:case"end":return n.stop()}}),null,this)}},{key:"getTestIsRegister",value:function(){var e;return regeneratorRuntime.async((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,regeneratorRuntime.awrap(Object(w["e"])(this.$store.state.loginAccount));case 2:e=t.sent,200===e.code&&(-1===e.exist?this.$router.push("/register"):this.pawdShow=!0);case 4:case"end":return t.stop()}}),null,this)}},{key:"login",value:function(){var e;return regeneratorRuntime.async((function(t){while(1)switch(t.prev=t.next){case 0:if(""!=this.pawd){t.next=3;break}return this.$toast("请输入密码，在进行登录"),t.abrupt("return",!1);case 3:return t.next=5,regeneratorRuntime.awrap(Object(w["b"])(this.$store.state.loginAccount,this.pawd));case 5:e=t.sent,200===e.code?(this.$store.dispatch("loginMode",e),this.$router.push("/my")):(this.$toast(e.message||e.msg),this.pawd="");case 7:case"end":return t.stop()}}),null,this)}},{key:"back",value:function(){this.$router.back()}},{key:"startTimer",value:function(){var e=this;this.flagTimer=window.setInterval((function(){e.timer--,0===e.timer&&(e.timer=60,window.clearInterval(e.flagTimer))}),1e3)}},{key:"Regain",value:function(){this.startTimer(),this.getSendVerifyCode()}}]),t}(y["c"]);k=l["a"]([Object(y["a"])({components:{navbar:d["a"],vCode:g}})],k);var x=k,C=x,$=(n("87ca"),Object(m["a"])(C,a,r,!1,null,"3b67feb6",null));t["default"]=$.exports},b4a3:function(e,t,n){"use strict";var a=n("4788"),r=n.n(a);r.a}}]);