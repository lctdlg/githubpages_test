(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["search"],{"0918":function(t,e,s){},"47ed":function(t,e,s){"use strict";var a=s("b690"),c=s.n(a);c.a},7275:function(t,e,s){"use strict";s.d(e,"a",(function(){return c})),s.d(e,"c",(function(){return r})),s.d(e,"b",(function(){return n}));var a=s("72e7");function c(){return Object(a["a"])({url:"/search/hot/detail"})}function r(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"mobile";return Object(a["a"])({url:"/search/suggest",params:{keywords:t,type:e}})}function n(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:30,c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return Object(a["a"])({url:"/search",params:{keywords:t,limit:s,offset:c*s,type:e}})}},"7b6e":function(t,e,s){"use strict";var a=s("b65b"),c=s.n(a);c.a},b65b:function(t,e,s){},b690:function(t,e,s){},be4c:function(t,e,s){"use strict";var a=s("0918"),c=s.n(a);c.a},d072:function(t,e,s){},efe3:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"search"},[s("search-tab"),s("search-history"),s("hot-search-list",{attrs:{hotsearch:t.hotSearchListData}})],1)},c=[],r=(s("d3b7"),s("96cf"),s("d4ec")),n=s("bee2"),i=s("99de"),o=s("7e84"),u=s("262e"),l=s("9ab4"),h=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("navbar",{staticClass:"search-tab"},[s("div",{attrs:{slot:"left"},on:{click:t.back},slot:"left"},[s("span",{staticClass:"fa-arrow-left back"})]),s("div",{staticClass:"search-input-box",attrs:{slot:"center"},slot:"center"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.searchContent,expression:"searchContent"}],staticClass:"search-input",attrs:{type:"text"},domProps:{value:t.searchContent},on:{click:t.activeInput,input:function(e){e.target.composing||(t.searchContent=e.target.value)}}}),s("div",{directives:[{name:"show",rawName:"v-show",value:t.Flag,expression:"Flag"}],staticClass:"fa-close clear-input",on:{click:t.clearInput}}),s("ul",{directives:[{name:"show",rawName:"v-show",value:t.Flag&&t.isActive,expression:"Flag && isActive"}],staticClass:"search-list"},[s("li",{staticClass:"list-items",on:{click:function(e){return t.goSearchResult(t.searchContent)}}},[t._v(" 搜索“"+t._s(t.searchContent)+"” ")]),t._l(t.allMatch,(function(e){return s("li",{key:e.keyword,staticClass:"list-items",on:{click:function(s){return t.goSearchResult(e.keyword)}}},[s("span",{staticClass:"fa-search"}),t._v(" "+t._s(e.keyword)+" ")])}))],2)]),s("div",{attrs:{slot:"right"},on:{click:t.goSinger},slot:"right"},[s("span",{staticClass:"fa-user singer"})])])},v=[],f=(s("498a"),s("1f8a")),d=s("7275"),b=s("60a3"),p=function(t){function e(){var t;return Object(r["a"])(this,e),t=Object(i["a"])(this,Object(o["a"])(e).apply(this,arguments)),t.searchContent="",t.allMatch=[],t.isActive=!0,t.timer=null,t}return Object(u["a"])(e,t),Object(n["a"])(e,[{key:"mounted",value:function(){var t=this;this.$bus.$on("isShow",(function(e){t.isActive=e}))}},{key:"destroyed",value:function(){this.$bus.$off("isShow")}},{key:"activeInput",value:function(){this.isActive||(this.isActive=!0)}},{key:"clearInput",value:function(){this.searchContent=""}},{key:"back",value:function(){this.$router.back()}},{key:"goSinger",value:function(){this.$router.push("/singer")}},{key:"goSearchResult",value:function(t){this.$store.commit("changeSearchKey",t),this.$store.dispatch("addHistorySearchArr",t),this.$router.push("/searchresult?keywords=".concat(t))}},{key:"getSearchSuggest",value:function(t){var e;return regeneratorRuntime.async((function(s){while(1)switch(s.prev=s.next){case 0:return s.next=2,regeneratorRuntime.awrap(Object(d["c"])(t));case 2:e=s.sent,200===e.code&&(this.allMatch=e.result.allMatch);case 4:case"end":return s.stop()}}),null,this)}},{key:"debounce",value:function(t){var e=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500;this.timer&&clearTimeout(this.timer),this.timer=window.setTimeout((function(){t.call(e,e.searchContent)}),s)}},{key:"changeSearchContent",value:function(t){0!==t.trim().length&&this.debounce(this.getSearchSuggest)}},{key:"Flag",get:function(){return!(""===this.searchContent)}}]),e}(b["c"]);l["a"]([Object(b["d"])("searchContent")],p.prototype,"changeSearchContent",null),p=l["a"]([Object(b["a"])({components:{navbar:f["a"]}})],p);var g=p,y=g,m=(s("fce6"),s("2877")),k=Object(m["a"])(y,h,v,!1,null,"eb5d8eea",null),C=k.exports,w=function(){var t=this,e=t.$createElement,s=t._self._c||e;return 0!=t.historyArr.length?s("div",{staticClass:"search-history"},[s("div",{staticClass:"head clearfix"},[s("h3",{staticClass:"fl title"},[t._v("历史记录")]),s("span",{staticClass:"fa-trash-o fr",on:{click:t.remove}})]),s("scroll-bar",{staticClass:"scroll-bar",attrs:{direction:"horizontal"}},[s("div",{staticClass:"history-content"},t._l(t.historyArr,(function(e){return s("div",{key:e,staticClass:"items",on:{click:function(s){return t.goSearchResult(e)}}},[t._v(t._s(e))])})),0)])],1):t._e()},j=[],O=s("9fb0"),S=function(t){function e(){return Object(r["a"])(this,e),Object(i["a"])(this,Object(o["a"])(e).apply(this,arguments))}return Object(u["a"])(e,t),Object(n["a"])(e,[{key:"remove",value:function(){this.$store.commit("removeHistorySearch")}},{key:"goSearchResult",value:function(t){this.$store.commit("changeSearchKey",t),this.$router.push("/searchresult?keywords=".concat(t))}},{key:"historyArr",get:function(){return this.$store.state.searchHistory}}]),e}(b["c"]);S=l["a"]([Object(b["a"])({components:{scrollBar:O["a"]}})],S);var _=S,$=_,x=(s("7b6e"),Object(m["a"])($,w,j,!1,null,"3de2ccef",null)),A=x.exports,R=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"hot-search-list",on:{touchstart:t.touchStart}},[s("h3",{staticClass:"title"},[t._v("热搜榜")]),0!=t.hotsearch.length?s("div",{staticClass:"hot-list"},t._l(t.hotsearch,(function(e,a){return s("div",{key:a,staticClass:"list-item",on:{click:function(s){return t.goSearchResult(e.searchWord)}}},[s("span",{staticClass:"ordinal",class:a<3?"top-three":""},[t._v(t._s(a+1))]),s("div",{staticClass:"info"},[s("p",{staticClass:"search-word",class:a<3?"top-three":""},[t._v(" "+t._s(e.searchWord)+" "),e.iconUrl?s("img",{staticClass:"icon",attrs:{src:e.iconUrl}}):t._e()]),s("p",{staticClass:"desc"},[t._v(t._s(e.content))])]),s("span",{staticClass:"score"},[t._v(t._s(e.score))])])})),0):t._e(),s("loading",{directives:[{name:"show",rawName:"v-show",value:t.$store.state.loadingShow,expression:"$store.state.loadingShow"}]})],1)},H=[],F=s("5517"),E=function(t){function e(){return Object(r["a"])(this,e),Object(i["a"])(this,Object(o["a"])(e).apply(this,arguments))}return Object(u["a"])(e,t),Object(n["a"])(e,[{key:"touchStart",value:function(){this.$bus.$emit("isShow",!1)}},{key:"goSearchResult",value:function(t){this.$store.commit("changeSearchKey",t),this.$store.dispatch("addHistorySearchArr",t),this.$router.push("/searchresult?keywords=".concat(t))}}]),e}(b["c"]);l["a"]([Object(b["b"])({default:function(){return[]}})],E.prototype,"hotsearch",void 0),E=l["a"]([Object(b["a"])({mixins:[F["a"]]})],E);var I=E,L=I,M=(s("47ed"),Object(m["a"])(L,R,H,!1,null,"2b06cb72",null)),N=M.exports,D=function(t){function e(){var t;return Object(r["a"])(this,e),t=Object(i["a"])(this,Object(o["a"])(e).apply(this,arguments)),t.hotSearchListData=[],t}return Object(u["a"])(e,t),Object(n["a"])(e,[{key:"created",value:function(){this.getHotSearch()}},{key:"getHotSearch",value:function(){var t;return regeneratorRuntime.async((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,regeneratorRuntime.awrap(Object(d["a"])());case 2:t=e.sent,200===t.code&&(this.hotSearchListData=t.data);case 4:case"end":return e.stop()}}),null,this)}}]),e}(b["c"]);D=l["a"]([Object(b["a"])({components:{searchTab:C,searchHistory:A,hotSearchList:N}})],D);var K=D,T=K,J=(s("be4c"),Object(m["a"])(T,a,c,!1,null,"673262e2",null));e["default"]=J.exports},fce6:function(t,e,s){"use strict";var a=s("d072"),c=s.n(a);c.a}}]);